!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Sharelinks=e():t.Sharelinks=e()}(this,(function(){return function(){var t={828:function(t){if("undefined"!=typeof Element&&!Element.prototype.matches){var e=Element.prototype;e.matches=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector}t.exports=function(t,e){for(;t&&9!==t.nodeType;){if("function"==typeof t.matches&&t.matches(e))return t;t=t.parentNode}}},438:function(t,e,n){var r=n(828);function o(t,e,n,r,o){var c=i.apply(this,arguments);return t.addEventListener(n,c,o),{destroy:function(){t.removeEventListener(n,c,o)}}}function i(t,e,n,o){return function(n){n.delegateTarget=r(n.target,e),n.delegateTarget&&o.call(t,n)}}t.exports=function(t,e,n,r,i){return"function"==typeof t.addEventListener?o.apply(null,arguments):"function"==typeof n?o.bind(null,document).apply(null,arguments):("string"==typeof t&&(t=document.querySelectorAll(t)),Array.prototype.map.call(t,(function(t){return o(t,e,n,r,i)})))}},879:function(t,e){e.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},e.nodeList=function(t){var n=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===n||"[object HTMLCollection]"===n)&&"length"in t&&(0===t.length||e.node(t[0]))},e.string=function(t){return"string"==typeof t||t instanceof String},e.fn=function(t){return"[object Function]"===Object.prototype.toString.call(t)}},370:function(t,e,n){var r=n(879),o=n(438);t.exports=function(t,e,n){if(!t&&!e&&!n)throw new Error("Missing required arguments");if(!r.string(e))throw new TypeError("Second argument must be a String");if(!r.fn(n))throw new TypeError("Third argument must be a Function");if(r.node(t))return function(t,e,n){return t.addEventListener(e,n),{destroy:function(){t.removeEventListener(e,n)}}}(t,e,n);if(r.nodeList(t))return function(t,e,n){return Array.prototype.forEach.call(t,(function(t){t.addEventListener(e,n)})),{destroy:function(){Array.prototype.forEach.call(t,(function(t){t.removeEventListener(e,n)}))}}}(t,e,n);if(r.string(t))return function(t,e,n){return o(document.body,t,e,n)}(t,e,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}},279:function(t){function e(){}e.prototype={on:function(t,e,n){var r=this.e||(this.e={});return(r[t]||(r[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){var r=this;function o(){r.off(t,o),e.apply(n,arguments)}return o._=e,this.on(t,o,n)},emit:function(t){for(var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),r=0,o=n.length;r<o;r++)n[r].fn.apply(n[r].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),r=n[t],o=[];if(r&&e)for(var i=0,c=r.length;i<c;i++)r[i].fn!==e&&r[i].fn._!==e&&o.push(r[i]);return o.length?n[t]=o:delete n[t],this}},t.exports=e,t.exports.TinyEmitter=e}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={exports:{}};return t[r](i,i.exports,n),i.exports}n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,{a:e}),e},n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)};var r={};return function(){"use strict";var t=n(279),e=n.n(t),o=n(370),i=n.n(o);function c(t,e){const n=`data-${t}`;if(e.hasAttribute(n))return e.getAttribute(n)}let a=[{name:"whatsapp",href:"whatsapp://send?text=%URL%",width:null,height:null,sameWindow:!0},{name:"facebook",href:"https://www.facebook.com/sharer/sharer.php?u=%URL%",width:400,height:500},{name:"twitter",href:"https://twitter.com/intent/tweet?text=%TITLE%+-+%URL%",width:540,height:260},{name:"pinterest",href:"http://pinterest.com/pin/create/button/?url=%URL%&description=%TITLE%&media=%IMAGE%",width:520,height:570},{name:"tumblr",href:"http://www.tumblr.com/share/link?url=%URL%",width:500,height:500},{name:"linkedin",href:"https://www.linkedin.com/sharing/share-offsite/?url=%URL%",width:520,height:570}];class u extends(e()){constructor(t,e){super(),e&&"platforms"in e&&a.push(...e.platforms),console.log(a),this.listenClick(t)}makeLink(t,e,n,r){return t.href.replace("%URL%",encodeURIComponent(e).replace(/%20/g,"+")).replace("%TITLE%",encodeURIComponent(n).replace(/%20/g,"+")).replace("%IMAGE%",encodeURIComponent(r).replace(/%20/g,"+"))}listenClick(t){this.listener=i()(t,"click",(t=>this.onClick(t)))}image(t){if(c("image",t))return c("image",t);let e=document.querySelector('meta[property="og:image"]');return e?e.getAttribute("content"):void 0}onClick(t){if(1==t.which){t.preventDefault();const e=t.target,n=a.find((t=>t.name===e.dataset.platform)),r=e.getAttribute("href")||window.location.href;if(void 0===n)throw"Sharelinks Error: Invalid data-platform: "+c("platform",e);const o=c("width",e)||n.width,i=c("height",e)||n.height,u=this.makeLink(n,r,c("title",e)||document.title,this.image(e));this.emit("share-link-clicked",{platform:e.dataset.platform,url:c("url",e)||window.location.href}),"sameWindow"in n&&n.sameWindow?window.location.href=u:window.open(u,"","status=yes, width="+o+", height="+i)}}}r.default=u}(),r.default}()}));