!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Sharelinks=e():t.Sharelinks=e()}(this,(function(){return function(){"use strict";var t={};function e(t,e){const i=`data-${t}`;if(e.hasAttribute(i))return e.getAttribute(i)}let i=[{name:"whatsapp",href:"whatsapp://send?text=%URL%",width:null,height:null,sameWindow:!0},{name:"facebook",href:"https://www.facebook.com/sharer/sharer.php?u=%URL%",width:400,height:500},{name:"twitter",href:"https://twitter.com/intent/tweet?text=%TITLE%+-+%URL%",width:540,height:260},{name:"pinterest",href:"http://pinterest.com/pin/create/button/?url=%URL%&description=%TITLE%&media=%IMAGE%",width:520,height:570},{name:"tumblr",href:"http://www.tumblr.com/share/link?url=%URL%",width:500,height:500},{name:"linkedin",href:"https://www.linkedin.com/sharing/share-offsite/?url=%URL%",width:520,height:570}];return t.default=class{constructor(t,e){e&&"platforms"in e&&i.push(...e.platforms),this.listenClick(t)}makeLink(t,e,i,n){return t.href.replace("%URL%",encodeURIComponent(e).replace(/%20/g,"+")).replace("%TITLE%",encodeURIComponent(i).replace(/%20/g,"+")).replace("%IMAGE%",encodeURIComponent(n).replace(/%20/g,"+"))}listenClick(t){document.querySelectorAll(t).forEach((t=>{t.addEventListener("click",this.onClick)}))}findImage(t){if(e("image",t))return e("image",t);const i=document.querySelector('meta[property="og:image"]');return i?i.getAttribute("content"):void 0}onClick(t){if(1==t.which){t.preventDefault();const n=t.target,r=i.find((t=>t.name===n.dataset.platform)),o=n.getAttribute("href")||window.location.href;if(void 0===r)throw"Sharelinks Error: Invalid data-platform: "+e("platform",n);const a=e("width",n)||r.width,h=e("height",n)||r.height,l=this.makeLink(r,o,e("title",n)||document.title,this.findImage(n)),c=new CustomEvent("share-link-clicked",{detail:{platform:n.dataset.platform,url:e("url",n)||window.location.href}});n.dispatchEvent(c),"sameWindow"in r&&r.sameWindow?window.location.href=l:window.open(l,"","status=yes, width="+a+", height="+h)}}},t.default}()}));